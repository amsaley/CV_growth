library(dplyr)
remove.packages(rlang)
remove.packages("rlang")
install.packages("rlang")
install.packages("rlang")
packageVersion("rlang")
library("rlang")
library(rlang)
library(dplyr)
install.packages("rlang")
setwd("C:/Users/alish/OneDrive/Documents/GitHub/CV_growth/data files")
library(readxl)
library(lme4)
library(lmerTest)
dat = read.csv("C:/Users/alish/OneDrive/Documents/GitHub/CV_growth/data files/dat.processed.csv")
sw = read_xlsx("treatment monitoring.xlsx")
control = read_xlsx("control cv.xlsx")
library(nlme)
dat$T. = 0
dat[dat$sal.treat.x == "amb" & dat$TA.treat.x == "1000",]$T. <- "T1"
dat[dat$sal.treat.x == "amb" & dat$TA.treat.x == "2000",]$T. = "T2"
dat[dat$sal.treat.x == "amb" & dat$TA.treat.x == "3000",]$T. = "T3"
dat[dat$sal.treat.x == "low" & dat$TA.treat.x == "1000",]$T. = "t1"
dat[dat$sal.treat.x == "low" & dat$TA.treat.x == "2000",]$T. = "t2"
dat[dat$sal.treat.x == "low" & dat$TA.treat.x == "3000",]$T. = "t3"
nT1 = nrow(dat[dat$T. == "T1" & dat$dps == 36,])
nT2 = nrow(dat[dat$T. == "T2" & dat$dps == 36,])
nT3 = nrow(dat[dat$T. == "T3" & dat$dps == 36,])
nt1 = nrow(dat[dat$T. == "t1" & dat$dps == 36,])
nt2 = nrow(dat[dat$T. == "t2" & dat$dps == 36,])
nt3 = nrow(dat[dat$T. == "t3" & dat$dps == 36,])
dat$nrow = 0
dat[dat$T. == "T1",]$nrow <- nT1
dat[dat$T. == "T2",]$nrow <- nT2
dat[dat$T. == "T3",]$nrow <- nT3
dat[dat$T. == "t1",]$nrow <- nt1
dat[dat$T. == "t2",]$nrow <- nt2
dat[dat$T. == "t3",]$nrow <- nt3
#Removing outlier points from the data set
plot(dat$Net_growth.d)
summary(dat$Net_growth.d)
q1 = 0.1952
q3 = 0.8105
iqr = q3-q1
max = q3+(1.5*iqr)
min = q1-(1.5*iqr)
plot(dat$Net_growth.d)
abline(h=c(min,max))
#after 5 weeks of exposure
end = subset(dat,
dps == 36)
end$Net_growth.w.trans = log(end$Net_growth.w + 10)
plot((Net_growth.w.trans) ~ med.ta, pch = 19, col = as.factor(sal.treat.x), data = end)
#for incremental growth we need to delete the first time step
inc = subset(dat,
dps >1)
#adding in a column for thickness of shell
end$thick.mgmm2 = end$shell.wt/end$SA.mm2.RE
common_ids = unique(dat[dat$Net_growth.d < max,]$CV_ID)
subset_end <- end[end$CV_ID %in% common_ids, ]
subset_inc <- inc[inc$CV_ID %in% common_ids, ]
end = subset_end
inc = subset_inc
summary(inc[inc$dps == 18,]$Diff_growth)
summary(inc[inc$dps == 36,]$Diff_growth)
